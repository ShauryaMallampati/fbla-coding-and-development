# Supabase Setup (Quickstart)

## 1) Create a project
- Go to Supabase and create a new project.
- Grab the **Project URL** and **Anon/Public key** for your `.env.local`.

## 2) Create tables
Open the SQL editor and run:

```sql
-- Items reported by students
create table if not exists items (
  id bigint generated by default as identity primary key,
  title text not null,
  category text,
  description text,
  location_found text not null,
  date_found date not null,
  finder_name text,
  finder_email text,
  photo_path text,
  status text default 'pending',
  ai_validation jsonb,
  created_at timestamptz default now(),
  updated_at timestamptz default now()
);

-- Claims on items
create table if not exists claims (
  id bigint generated by default as identity primary key,
  item_id bigint references items(id) on delete cascade,
  claimant_name text not null,
  claimant_email text not null,
  details text,
  status text default 'new',
  created_at timestamptz default now(),
  updated_at timestamptz default now()
);

create index if not exists items_status_idx on items(status);
create index if not exists items_category_idx on items(category);
create index if not exists items_location_idx on items(location_found);
```

## 3) RLS (Row Level Security)
For a demo build, you can keep RLS **off** so the API can read/write.
If you enable RLS, create policies that allow read/write for your use case.

## 4) Optional: Storage
If you want persistent photos, add a Supabase Storage bucket and replace
local uploads with storage URLs.
